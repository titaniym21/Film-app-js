<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: search/modalFromMyList.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: search/modalFromMyList.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

const { ModalWindow } = require('../classSearch/classModalWindow');
const { Poster } = require('../classSearch/classPoster');
const { Content } = require('../classSearch/classContent');
const { ButtonClose } = require('../classSearch/classButtonClose');
const { Title } = require('../classSearch/classTitle');
const { Video } = require('../classSearch/classVideo');
const { Overview } = require('../classSearch/classOverview');
const { Genres } = require('../classSearch/classGenres');
const { ProductionCompanies } = require('../classSearch/classProductionCompanies');
const { Budget } = require('../classSearch/classBudget');
let windowMod;

/** @module modalFromMyList */

/**
 * The CreateModalWindow class creates an element with information and a trailer for the selected movie.
 * The CreateModalWindow class uses various functionality from other modules: &lt;br/>
 * [ModalWindow]{@link module:classModalWindow~ModalWindow}, &lt;br/>
 * [Poster]{@link module:classPoster~Poster}, &lt;br/>
 * [Content]{@link module:classContent~Content}, &lt;br/>
 * [ButtonClose]{@link module:classButtonClose~ButtonClose}, &lt;br/>
 * [Title]{@link module:classTitle~Title}, &lt;br/>
 * [Video]{@link module:classVideo~Video}, &lt;br/>
 * [Overview]{@link module:classOverview~Overview}, &lt;br/>
 * [Genres]{@link module:classGenres~Genres}, &lt;br/>
 * [ProductionCompanies]{@link module:classProductionCompanies~ProductionCompanies}, &lt;br/>
 * [Budget]{@link module:classBudget~Budget}. &lt;br/>
 * @author Stanislav Kuzin &lt;staskuzinman@gmail.com>
 */

class CreateModalWindow {
     /**
     * Create HTMLElement.
     * @param {object} obj - promise object
     * @returns {object}
     */
    constructor(obj) {
        this.modalWindow = new ModalWindow();
        this.poster = new Poster(obj);
        this.content = new Content();
        this.buttonClose = new ButtonClose();
        this.title = new Title(obj);
        this.video = new Video(obj);
        this.overview = new Overview(obj);
        this.genres = new Genres(obj);
        this.productionCompanies = new ProductionCompanies(obj);
        this.budget = new Budget(obj);
        this.content.append(this.title, this.video, this.overview, this.genres, this.productionCompanies, this.budget);
        this.modalWindow.append(this.poster, this.content, this.buttonClose);
        return this.modalWindow;
    }
}

/** 
 * The searchById function makes a request to the server, we call the class constructor &lt;br/>
 * passing the promise object into the arguments. &lt;br/>
 * @author Stanislav Kuzin &lt;staskuzinman@gmail.com> 
 * @param {string} id - id of the movie for which there will be a request to the server
 * @returns {undefined}
 */

function searchById(id) {
    let search = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&amp;append_to_response=videos`;
    fetch(search)
        .then((data) => data.json())
        .then((obj) => {
            let bg = document.createElement('section');
            bg.classList.add('bg');
            body.append(bg);
            windowMod = new CreateModalWindow(obj);
            body.append(windowMod);
            
        })
        .catch((error) => console.log(error))
}

/** 
 * The modalFromMyList function checks on which tag the listener is on, &lt;br/>
 * if LI then considers the attribute (id) of the parent element &lt;br/>
 * and calls the function passing the id argument. &lt;br/>
 * @author Stanislav Kuzin &lt;staskuzinman@gmail.com> 
 * @param {object} event - the object where the listener fired
 * @returns {undefined}
 */

function modalFromMyList(event) {
    if (event.target.tagName === 'LI') {
        event.target.parentNode.classList.add("closeAnimHetflix");
        event.target.parentNode.classList.remove("animHetflix");
        let id = event.target.getAttribute('alt');
        searchById(id);
    }
}

module.exports = modalFromMyList;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-addFilmToFavorites.html">addFilmToFavorites</a></li><li><a href="module-addFilmToList.html">addFilmToList</a></li><li><a href="module-classBgForList.html">classBgForList</a></li><li><a href="module-classBoxSearch.html">classBoxSearch</a></li><li><a href="module-classBudget.html">classBudget</a></li><li><a href="module-classButtonClose.html">classButtonClose</a></li><li><a href="module-classButtonCloseSearch.html">classButtonCloseSearch</a></li><li><a href="module-classContent.html">classContent</a></li><li><a href="module-classGenres.html">classGenres</a></li><li><a href="module-classModalWindow.html">classModalWindow</a></li><li><a href="module-classOverview.html">classOverview</a></li><li><a href="module-classPoster.html">classPoster</a></li><li><a href="module-classPosterInBoxSearch.html">classPosterInBoxSearch</a></li><li><a href="module-classProductionCompanies.html">classProductionCompanies</a></li><li><a href="module-classTitle.html">classTitle</a></li><li><a href="module-classTitleInBoxSearch.html">classTitleInBoxSearch</a></li><li><a href="module-classVideo.html">classVideo</a></li><li><a href="module-createSearchList.html">createSearchList</a></li><li><a href="module-delFromLocalStorage.html">delFromLocalStorage</a></li><li><a href="module-functionDel.html">functionDel</a></li><li><a href="module-getData.html">getData</a></li><li><a href="module-getElemFromList.html">getElemFromList</a></li><li><a href="module-modalFromMyList.html">modalFromMyList</a></li><li><a href="module-myListAfterLogin.html">myListAfterLogin</a></li><li><a href="module-searchById.html">searchById</a></li></ul><h3>Classes</h3><ul><li><a href="module-classBgForList-Bg.html">Bg</a></li><li><a href="module-classBoxSearch-BoxSearch.html">BoxSearch</a></li><li><a href="module-classBudget-Budget.html">Budget</a></li><li><a href="module-classButtonCloseSearch-ButtonCloseSearch.html">ButtonCloseSearch</a></li><li><a href="module-classButtonClose-ButtonClose.html">ButtonClose</a></li><li><a href="module-classContent-Content.html">Content</a></li><li><a href="module-classGenres-Genres.html">Genres</a></li><li><a href="module-classModalWindow-ModalWindow.html">ModalWindow</a></li><li><a href="module-classOverview-Overview.html">Overview</a></li><li><a href="module-classPosterInBoxSearch-PosterInBox.html">PosterInBox</a></li><li><a href="module-classPoster-Poster.html">Poster</a></li><li><a href="module-classProductionCompanies-ProductionCompanies.html">ProductionCompanies</a></li><li><a href="module-classTitleInBoxSearch-TitleInBox.html">TitleInBox</a></li><li><a href="module-classTitle-Title.html">Title</a></li><li><a href="module-classVideo-Video.html">Video</a></li><li><a href="module-modalFromMyList-CreateModalWindow.html">CreateModalWindow</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Apr 15 2023 22:58:33 GMT+0300 (Восточная Европа, летнее время)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
